{% extends "template.htm" %}
{% block title %} Player - {{ player.name }} {% endblock %}
{% block body %}

<div class="panel panel-default">
	<div class="panel-heading">
		Player Information
	</div>
	<div class="panel-body">
		<table class="table table-striped table-hover">
			<tr>
				<td>Name</td>
				<td>
					{{ player.name }}
					<div class="outfit">
						<img class="outfit" src="/outfit/{{ player.looktype }}/{{ player.lookhead }}/{{ player.lookbody }}/{{ player.looklegs }}/{{ player.lookfeet }}/{{ player.lookaddons }}">
					</div>
				</td>
			</tr>
			<tr>
				<td>Sex</td>
				<td>{{ player.sex | gender }}</td>
			</tr>
			<tr>
				<td>Vocation</td>
				<td>{{ player.vocation | vocation }}</td>
			</tr>
			<tr>
				<td>Level</td>
				<td>{{ player.level }}</td>
			</tr>
			<tr>
				<td>Magic Level</td>
				<td>{{ player.maglevel }}</td>
			</tr>
			<tr>
				<td>Town</td>
				<td>{{ player.town_id | town }}</td>
			</tr>
			<tr>
				<td>Last Seen</td>
				<td>{{ (player.lastlogout if player.lastlogout > player.lastlogin else player.lastlogout) | datetime }}</td>
			</tr>
			<tr>
				<td>Online Time</td>
				<td>{{ player.onlinetime | timetotal }}</td>
			</tr>
			{% if guild %}
			<tr>
				<td>Guild</td>
				<td><a href="/community/guild/{{ guild.id }}">{{ guild.name }}</a></td>
			</tr>
			{% endif %}
			{% if player.comment %}
			<tr>
				<td>Comment</td>
				<td>{{ player.comment }}</td>
			</tr>
			{% endif %}
		</table>
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		Quests
	</div>
	<div class="panel-body">
		<table class="table table-striped table-hover">
		{% for quest in quests %}
		<tr>
			<td>{{ quest.name }}</td>
			<td>
				{% if player.getStorageValue(quest.key) >= quest.value %}
					<span class="glyphicon glyphicon-ok"></i>
				{% else %}
					<span class="glyphicon glyphicon-remove"></i>
				{% endif %}
			</td>
		{% endfor %}
		</table>
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		Deaths
	</div>
	<div class="panel-body">
		<table class="table table-striped table-hover">
		{% for death in player.deaths.limit(10) %}
			<tr>
				<td>{{ death.time | datetime }}</td>
				<td>{% autoescape off %}{{ death.toString() }}{% endautoescape %}</td>
			</tr>
		{% endfor %}
	</table>
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		Search Player
	</div>
	<div class="panel-body">
		<form method="post" action="/community/player">
			<div class="col-sm-10">
				<input class="form-control" type="text" name="name" placeholder="Player Name" value="">
			</div>
			<div class="col-sm-2">
				<button class="btn btn-default btm-sm btn-block" type="submit">Search</button>
			</div>
		</form>
	</div>
</div>

{% endblock %}
